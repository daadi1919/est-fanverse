{"ast":null,"code":"import { ethers } from \"ethers\";\n\n// Adresse de ton contrat FanToken (exemple, à remplacer par la tienne)\nexport const fanTokenAddress = \"0x5FbDB2315678afecb367f032d93F642f64180aa3\";\nexport const fanTokenAbi = [\"function balanceOf(address owner) view returns (uint256)\", \"function symbol() view returns (string)\"];\nexport const getTokenBalance = async account => {\n  if (!window.ethereum) return null;\n  const provider = new ethers.BrowserProvider(window.ethereum);\n  const signer = await provider.getSigner();\n  const contract = new ethers.Contract(fanTokenAddress, fanTokenAbi, signer);\n  const balance = await contract.balanceOf(account);\n  const symbol = await contract.symbol();\n  return {\n    balance: ethers.formatUnits(balance, 18),\n    symbol\n  };\n};","map":{"version":3,"names":["ethers","fanTokenAddress","fanTokenAbi","getTokenBalance","account","window","ethereum","provider","BrowserProvider","signer","getSigner","contract","Contract","balance","balanceOf","symbol","formatUnits"],"sources":["/home/debian/est-fanverse/client/src/utils/contract.ts"],"sourcesContent":["import { ethers } from \"ethers\";\n\n// Adresse de ton contrat FanToken (exemple, à remplacer par la tienne)\nexport const fanTokenAddress = \"0x5FbDB2315678afecb367f032d93F642f64180aa3\";\n\nexport const fanTokenAbi = [\n  \"function balanceOf(address owner) view returns (uint256)\",\n  \"function symbol() view returns (string)\"\n];\n\nexport const getTokenBalance = async (account: string) => {\n  if (!window.ethereum) return null;\n\n  const provider = new ethers.BrowserProvider(window.ethereum);\n  const signer = await provider.getSigner();\n  const contract = new ethers.Contract(fanTokenAddress, fanTokenAbi, signer);\n  \n  const balance = await contract.balanceOf(account);\n  const symbol = await contract.symbol();\n  return { balance: ethers.formatUnits(balance, 18), symbol };\n};\n"],"mappings":"AAAA,SAASA,MAAM,QAAQ,QAAQ;;AAE/B;AACA,OAAO,MAAMC,eAAe,GAAG,4CAA4C;AAE3E,OAAO,MAAMC,WAAW,GAAG,CACzB,0DAA0D,EAC1D,yCAAyC,CAC1C;AAED,OAAO,MAAMC,eAAe,GAAG,MAAOC,OAAe,IAAK;EACxD,IAAI,CAACC,MAAM,CAACC,QAAQ,EAAE,OAAO,IAAI;EAEjC,MAAMC,QAAQ,GAAG,IAAIP,MAAM,CAACQ,eAAe,CAACH,MAAM,CAACC,QAAQ,CAAC;EAC5D,MAAMG,MAAM,GAAG,MAAMF,QAAQ,CAACG,SAAS,CAAC,CAAC;EACzC,MAAMC,QAAQ,GAAG,IAAIX,MAAM,CAACY,QAAQ,CAACX,eAAe,EAAEC,WAAW,EAAEO,MAAM,CAAC;EAE1E,MAAMI,OAAO,GAAG,MAAMF,QAAQ,CAACG,SAAS,CAACV,OAAO,CAAC;EACjD,MAAMW,MAAM,GAAG,MAAMJ,QAAQ,CAACI,MAAM,CAAC,CAAC;EACtC,OAAO;IAAEF,OAAO,EAAEb,MAAM,CAACgB,WAAW,CAACH,OAAO,EAAE,EAAE,CAAC;IAAEE;EAAO,CAAC;AAC7D,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}